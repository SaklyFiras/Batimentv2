(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[359],{7628:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Admin/interface/[categorie]",function(){return s(9612)}])},1762:function(e,t,s){"use strict";s.r(t),s.d(t,{config:function(){return i},url:function(){return l}});var r=s(5893),a=s(6154),n=s(7294);let l="http://localhost:4000/api/v2",i={headers:{"Content-Type":"application/json"},withCredentials:!0};t.default=function(){let[e,t]=(0,n.useState)({name:"",password:""}),handleLogin=async t=>{t.preventDefault();try{let t=await a.Z.post("".concat(l,"/login"),e,i);200===t.status?(console.log(t.data.success),window.location.href="/Admin/interface"):console.error("Login failed")}catch(e){console.error("An error occurred during login:",e)}};return(0,r.jsx)("div",{className:"h-screen d-flex justify-center items-center flex-col container  ",children:(0,r.jsxs)("div",{className:"border-1 py-5 px-28",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-center",children:"Admin Login"}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsx)("label",{htmlFor:"first_name",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"First name"}),(0,r.jsx)("input",{value:e.name,onChange:s=>t({...e,name:s.target.value}),type:"text",id:"first_name",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 ",placeholder:"John",required:!0})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{htmlFor:"password",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Password"}),(0,r.jsx)("input",{value:e.password,onChange:s=>t({...e,password:s.target.value}),type:"password",id:"password",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",placeholder:"•••••••••",required:!0})]}),(0,r.jsx)("button",{onClick:handleLogin,className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded w-full",children:"Login"})]})})}},9612:function(e,t,s){"use strict";s.r(t);var r=s(5893),a=s(7294);s(1664);var n=s(5675),l=s.n(n),i=s(1163),c=s(6154),o=s(1762),d=s(6212);t.default=()=>{let e=(0,i.useRouter)(),{categorie:t}=e.query;console.log(t);let[s,n]=(0,a.useState)(!1),[u,m]=(0,a.useState)([]),[f,h]=(0,a.useState)([]),[x,g]=(0,a.useState)([]),[p,b]=(0,a.useState)([]),handleUpload=async()=>{try{let e=new FormData;e.append("page","Realisations"),u.forEach(t=>{e.append("images",t)}),e.append("categorie",t);let s=await c.Z.post("".concat(o.url,"/image"),e,o.config);201===s.status?(console.log(s.data.success),m([]),h([])):console.error("Upload failed")}catch(e){console.error("An error occurred during login:",e)}},handleGetImages=async()=>{try{let e=await c.Z.get("".concat(o.url,"/images/").concat(t),o.config);200===e.status?(console.log(e.data.success),g(e.data.images[0].images)):console.error("Login failed")}catch(e){console.error("An error occurred during login:",e)}};return(0,a.useEffect)(()=>{handleGetImages()},[t]),(0,r.jsxs)("div",{className:"flex h-screen mt-5",children:[(0,r.jsx)("div",{className:"w-1/6 p-4 border-r",children:(0,r.jsx)("div",{children:(0,r.jsx)(d.default,{})})}),(0,r.jsxs)("div",{className:"w-5/6 p-4",children:[(0,r.jsx)("div",{className:"mb-4",children:p.length>0&&(0,r.jsx)("button",{className:"px-4 py-2 bg-red-500 text-white rounded-lg ml-2",onClick:deleteSelectedImages,children:"Delete Selected"})}),(0,r.jsxs)("div",{className:"flex flex-col border-2 p-5",children:[(0,r.jsx)("input",{className:"mb-2 text-blue-500 bg-gray-200 rounded-lg h-min w-min mx-auto",type:"file",name:"imageFile",multiple:!0,onChange:e=>{let t=Array.from(e.target.files);h([]),m([]),t.forEach(e=>{let t=new FileReader;t.onload=()=>{2===t.readyState&&(h(e=>[...e,t.result]),m(e=>[...e,t.result]))},t.readAsDataURL(e)})},value:""}),(0,r.jsx)("div",{className:"flex justify-center gap-2",children:f.map(e=>(0,r.jsx)(l(),{className:"border-black border-2",src:e,alt:"Images Preview",width:150,height:150},e))}),(0,r.jsxs)("div",{className:"flex  justify-end gap-2",children:[(0,r.jsx)("button",{onClick:handleUpload,className:"py-3 px-5 text-sm font-medium text-center float-right  text-white rounded-sm bg-indigo-700 sm:w-fit hover:bg-primary-800 focus:ring-4 focus:outline-none focus:ring-primary-300 ",children:"Upload"}),(0,r.jsx)("button",{onClick:()=>{m([]),h([])},className:"py-3 px-5 text-sm font-medium text-center float-right  text-white rounded-sm bg-red-700 sm:w-fit hover:bg-primary-800 focus:ring-4 focus:outline-none focus:ring-primary-300 ",children:"Cancel"})]})]}),(0,r.jsx)("div",{className:"flex flex-wrap border-2 mt-1",children:x.map((e,t)=>(0,r.jsx)("div",{className:"w-1/4 p-4",children:(0,r.jsx)(l(),{className:"border-black border-2",src:e.url,alt:"Images Preview",width:150,height:150},e.url)},t))})]})]})}},6212:function(e,t,s){"use strict";s.r(t);var r=s(5893),a=s(7294),n=s(1664),l=s.n(n);t.default=function(){let[e,t]=(0,a.useState)([{id:1,title:"Realisations",content:["Alle","Collectivit\xe9s","Escaliers","Interieurs","Motifs","Piscines"]}]);return(0,r.jsx)("div",{children:e.map(e=>(0,r.jsxs)("div",{children:[(0,r.jsx)(l(),{href:"/Admin/interface",replace:!0,className:"mb-2 text-blue-500",children:e.title}),(0,r.jsxs)("div",{className:"flex flex-col indent-2",children:[(0,r.jsx)(l(),{className:"text-black",href:"/Admin/interface/alle",children:e.content[0]}),(0,r.jsx)(l(),{className:"text-black",href:"/Admin/interface/collectivites",children:e.content[1]}),(0,r.jsx)(l(),{className:"text-black",href:"/Admin/interface/escaliers",children:e.content[2]}),(0,r.jsx)(l(),{className:"text-black",href:"/Admin/interface/interieurs",children:e.content[3]}),(0,r.jsx)(l(),{className:"text-black",href:"/Admin/interface/motifs",children:e.content[4]}),(0,r.jsx)(l(),{className:"text-black",href:"/Admin/interface/piscines",children:e.content[5]})]}),(0,r.jsx)(l(),{href:"/Admin/interface/messages",className:"mb-2 text-blue-500",children:"Messages"})]},e.id))})}},1163:function(e,t,s){e.exports=s(9974)}},function(e){e.O(0,[154,774,888,179],function(){return e(e.s=7628)}),_N_E=e.O()}]);